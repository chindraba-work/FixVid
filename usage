#!/bin/bash

# Command script to show the help/usage information for the FixVid
# project
#
# Accepts no arguments
#
# Displays, on STDOUT, the usage data
#
# Generates no files
#

show_usage='cat';
test -n $PAGER && show_usage="$PAGER";

cat <<USAGE | "$show_usage";
Usage: fixvid <command> [arg [arg [...] ] ]

Processs files in the current directory, according to the informaion in
the fixvid.conf file as steps in creating a video file from the source
file(s).

Available commands are:

    dts-build
        Create DTS formated surround sound files from the previously
        created AC3 files from hts-merge.

    explore <file>
        run ffprobe on the listed file and filter the results, showing
        the lines pertinant to the file's duration, chapter list, and
        each stream located in the file.

    hts-merge
        Combine individual channel files into a single 5.1 surround
        sound soundtrack, saving internal use and external copies of the
        adjusted soundtrack. If any of the needed files are abscent,
        will force a run of hts-normalize.

    hts-normalize
        Apply normalization filters to each of the 5.1 surround sound
        channel files made by hts-split. Then adjusted versions are the
        expected input to hts-merge. If any of the needed files are
        abscent, will force a run of hts-split.

    hts-split
        Extract the 5.1 surround sound soundtrack from the file, save
        the unmodified versions and split the soundtrack into individual
        channel files for further processing via hts-normalize and
        hts-merge.

    hts-stereo
        Create a stereo soundtrack from the 5.1 surround sound
        soundtrack, save unadjusted versions and adjusted versions of
        the new stereo soundtrack.

    init
        Create the empty fixvid.conf file in the directory and scan for
        all .mp4, .mkv, and .avi files in the current directory and
        provide a filtered output from ffprobe for each. The scan
        results are displayed, and recorded in the fixvid.scan file.

    subtitles-text <source_file> <source_stream> <title_label> <filename>
        Extract text-based subtitles from the given source and create
        the named Substation Alpha subtitle file.

    stereo
        Extract the stereo sound track from the file and stream
        identified in the fixvid.conf file as the stereo source. Applies
        the enhancements to the stereo sound track and creates an .aac
        and .ac3 file of the original and the enhaced soundtracks.

USAGE